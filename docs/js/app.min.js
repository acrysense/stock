document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px");const t=document.getElementById("header");let i=t?t.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--headerh",i+"px"),window.addEventListener("resize",()=>{let e=.01*window.innerHeight,i=t?t.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--vh",e+"px"),document.documentElement.style.setProperty("--headerh",i+"px")}),document.querySelectorAll("textarea").forEach(e=>{e.style.height=e.setAttribute("style","height: "+e.scrollHeight+"px"),e.classList.add("auto"),e.addEventListener("input",t=>{e.style.height="auto",e.style.height=e.scrollHeight+"px"})});const s=document.querySelectorAll(".select");function r(e){let t=self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,i=function(e){let t=document.getElementById(e),i=t.offsetTop,s=t;for(;s.offsetParent&&s.offsetParent!=document.body;)s=s.offsetParent,i+=s.offsetTop;return i}(e),s=i>t?i-t:t-i;if(s<100)return void scrollTo(0,i);let r=Math.round(s/100);r>=20&&(r=20);let n=Math.round(s/25),l=i>t?t+n:t-n,o=0;if(i>t)for(let e=t;e<i;e+=n)setTimeout("window.scrollTo(0, "+l+")",o*r),l+=n,l>i&&(l=i),o++;else for(let e=t;e>i;e-=n)setTimeout("window.scrollTo(0, "+l+")",o*r),l-=n,l<i&&(l=i),o++}s&&s.forEach(e=>{new SlimSelect({select:e})});const n=document.querySelectorAll('a[href^="#"]');n&&n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),setTimeout(()=>{e.getAttribute("href").length>1&&r(e.getAttribute("href").slice(1))},500)})});const l=document.getElementById("hamburger-toggle"),o=document.getElementById("mobile-menu");l&&o&&l.addEventListener("click",e=>{e.preventDefault(),o.classList.contains("mobile-menu--active")?(t.classList.remove("header--menu"),l.classList.remove("hamburger--active"),o.classList.remove("mobile-menu--active"),document.body.classList.remove("scroll-disabled")):(t.classList.add("header--menu"),l.classList.add("hamburger--active"),o.classList.add("mobile-menu--active"),document.body.classList.add("scroll-disabled"))});let a=(e,t=400)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling.style.pointerEvents="none",window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"},t),e.parentNode.classList.remove("is--open")},c=(e,t=400)=>{e.style.removeProperty("display");let i=window.getComputedStyle(e).display;"none"===i&&(i="block"),e.style.display=i;let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling.style.pointerEvents="none",window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"},t),e.parentNode.classList.add("is--open")};const d=document.querySelectorAll(".c-accordeon__trigger"),p=document.querySelectorAll(".mobile-menu__trigger"),u=document.querySelectorAll(".footer__heading");d&&d.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.parentNode.classList.contains("is--open")?a(e.nextElementSibling):c(e.nextElementSibling)})}),u&&window.innerWidth<768&&u.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.parentNode.classList.contains("is--open")?a(e.nextElementSibling):c(e.nextElementSibling)})}),p&&p.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.parentNode.classList.contains("is--open")?a(e.nextElementSibling):c(e.nextElementSibling)})});const m=document.querySelectorAll(".media-tabs__item"),w=document.querySelectorAll(".projects-tabs__item"),v=document.querySelectorAll(".news-tabs__item"),_=document.querySelectorAll(".lk-tabs__item:not(.lk-tabs__item--no-tab)");m&&m.forEach((e,t)=>{e.addEventListener("click",()=>{document.querySelectorAll(".media-tabs__item").forEach(e=>e.classList.remove("media-tabs__item--active")),document.querySelectorAll(".media-tabs__wrapper").forEach(e=>e.classList.remove("media-tabs__wrapper--active")),e.classList.add("media-tabs__item--active"),document.querySelectorAll(".media-tabs__wrapper")[t].classList.add("media-tabs__wrapper--active")})}),w&&w.forEach((e,t)=>{e.addEventListener("click",()=>{document.querySelectorAll(".projects-tabs__item").forEach(e=>e.classList.remove("projects-tabs__item--active")),document.querySelectorAll(".projects-tabs__wrapper").forEach(e=>e.classList.remove("projects-tabs__wrapper--active")),e.classList.add("projects-tabs__item--active"),document.querySelectorAll(".projects-tabs__wrapper")[t].classList.add("projects-tabs__wrapper--active")})}),v&&v.forEach((e,t)=>{e.addEventListener("click",()=>{document.querySelectorAll(".news-tabs__item").forEach(e=>e.classList.remove("news-tabs__item--active")),document.querySelectorAll(".news-tabs__wrap").forEach(e=>e.classList.remove("news-tabs__wrap--active")),e.classList.add("news-tabs__item--active"),document.querySelectorAll(".news-tabs__wrap")[t].classList.add("news-tabs__wrap--active")})}),_&&_.forEach((e,t)=>{e.addEventListener("click",()=>{document.querySelectorAll(".lk-tabs__item").forEach(e=>e.classList.remove("lk-tabs__item--active")),document.querySelectorAll(".lk-tabs__wrap").forEach(e=>e.classList.remove("lk-tabs__wrap--active")),e.classList.add("lk-tabs__item--active"),document.querySelectorAll(".lk-tabs__wrap")[t].classList.add("lk-tabs__wrap--active")})});const y=document.querySelector(".subscribe-news"),f=document.querySelector(".subscribe-news__close");f&&f.addEventListener("click",e=>{e.preventDefault(),y.classList.add("subscribe-news--hidden")});const h=document.querySelectorAll(".c-like");h&&h.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.classList.contains("c-like--liked")?e.classList.remove("c-like--liked"):e.classList.add("c-like--liked")})});const g=document.querySelector(".lk-select-nav__current");if(g){const e=()=>{g.closest(".lk-select-nav").classList.remove("lk-select-nav--active")},t=((e,t)=>{const i=i=>{let r=i.target;for(;r&&!e.includes(r);)r=r.parentNode;r||(t(),s())};function s(){document.documentElement.removeEventListener("click",i)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",i)},removeBodyChecker:s}})([g.parentNode],e);g.addEventListener("click",e=>{e.preventDefault();const i=g.closest(".lk-select-nav");i.classList.contains("lk-select-nav--active")?i.classList.remove("lk-select-nav--active"):(i.classList.add("lk-select-nav--active"),t.setBodyChecker())})}const b=document.querySelector(".chat-file__input"),S=document.querySelector(".chat__input"),E=document.querySelector(".chat__send"),L=document.querySelector(".chat__files");S&&S.addEventListener("input",e=>{e.preventDefault(),S.value.length>0?E.classList.add("chat__send--visible"):E.classList.remove("chat__send--visible")}),b&&b.addEventListener("change",e=>{if(e.preventDefault(),"files"in b)if(0==b.files.length)txt="Файл не выбран";else for(let e=0;e<b.files.length;e++){let t=b.files[e];"name"in t&&(L.querySelector(".return-file__value").innerHTML=t.name)}L.classList.add("return-file--active")}),document.querySelectorAll(".datepickr")&&document.querySelectorAll(".datepickr").forEach(e=>{flatpickr(e,{dateFormat:"d.m.Y",locale:"ru"})});const q=document.querySelector(".add-file__input"),k=document.querySelector(".return-file"),P=document.querySelector(".return-file__delete");q&&q.addEventListener("change",e=>{if(e.preventDefault(),"files"in q)if(0==q.files.length)txt="Файл не выбран";else for(let e=0;e<q.files.length;e++){let t=q.files[e];"name"in t&&(k.querySelector(".return-file__value").innerHTML=t.name)}q.closest(".add-file").classList.add("add-file--hidden"),k.classList.add("return-file--active")}),P&&P.addEventListener("click",e=>{e.preventDefault(),q&&q.closest(".add-file").classList.remove("add-file--hidden"),k.querySelector(".return-file__value").innerHTML="",k.classList.remove("return-file--active")});const A=document.querySelectorAll(".c-add-photo__input");A&&A.forEach(e=>{e.addEventListener("change",t=>{t.preventDefault();const i=e.closest(".c-add-photo").querySelector(".c-add-photo__image > img");e.closest(".c-add-photo").classList.add("c-add-photo--uploading"),function(e,t){if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){t.setAttribute("src",e.target.result)},i.readAsDataURL(e.files[0])}}(e,i)})});const x=document.querySelectorAll(".communities__block");document.querySelectorAll(".communities__preview > img");x&&x.forEach((e,t)=>{e.addEventListener("mouseover",e=>{e.preventDefault(),document.querySelectorAll(".communities__preview > img").forEach(e=>e.style.opacity="0"),document.querySelectorAll(".communities__preview > img")[t].style.opacity="1"})});const V=document.querySelectorAll(".lk-nav__link--dropdown");V&&V.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.closest(".lk-nav__item").querySelector(".lk-nav__submenu");i.classList.contains("lk-nav__submenu--active")?(e.classList.remove("is-active"),i.classList.remove("lk-nav__submenu--active")):(e.classList.add("is-active"),i.classList.add("lk-nav__submenu--active"))})});const B=document.querySelector(".questionnaire__image"),T=document.querySelectorAll(".questionnaire-form__btn"),D=document.querySelectorAll(".questionnaire-form__back");function H(e){const t=e.map(e=>e.getBoundingClientRect().height);return Math.max.apply(null,t)}T&&T.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.closest(".questionnaire-form__wrapper");i.classList.remove("questionnaire-form__wrapper--active"),i.nextElementSibling.classList.add("questionnaire-form__wrapper--active"),B.classList.contains("questionnaire__image--hidden")&&B.classList.remove("questionnaire__image--hidden")})}),D&&D.forEach((e,t)=>{e.addEventListener("click",i=>{i.preventDefault();const s=e.closest(".questionnaire-form__wrapper");s.classList.remove("questionnaire-form__wrapper--active"),s.previousElementSibling.classList.add("questionnaire-form__wrapper--active"),0!==t||B.classList.contains("questionnaire__image--hidden")||B.classList.add("questionnaire__image--hidden")})});const O=document.querySelector(".main__slider .swiper");if(O){new Swiper(O,{slidesPerView:1,speed:600,fadeEffect:{crossFade:!0},effect:"fade",loop:!0,pagination:{el:".swiper-pagination"},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},breakpoints:{768:{pagination:{type:"fraction"}}}})}const j=document.querySelector(".community__slider .swiper"),C=[...document.querySelectorAll(".community__slide")];if(j){setTimeout(()=>{let e=H(C);C.forEach(t=>{t.style.minHeight=e+"px"})},100);new Swiper(j,{slidesPerView:6,spaceBetween:20,speed:800,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:2,spaceBetween:10},768:{slidesPerView:4,spaceBetween:20},1024:{slidesPerView:5},1200:{slidesPerView:6}}})}const M=document.querySelector(".projects-winners__slider .swiper"),N=[...document.querySelectorAll(".projects-winners__slide")];if(M){setTimeout(()=>{let e=H(N);N.forEach(t=>{t.style.minHeight=e+"px"})},100);new Swiper(M,{slidesPerView:3,spaceBetween:20,speed:800,watchOverflow:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}}})}const I=document.querySelector(".team-main__slider .swiper");if(I){new Swiper(I,{slidesPerView:1,spaceBetween:20,loop:!0,speed:800,watchOverflow:!0,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}})}const R=document.querySelector(".main-news__slider .swiper");if(R){new Swiper(R,{slidesPerView:"auto",spaceBetween:40,loop:!0,speed:800,watchOverflow:!0,navigation:{nextEl:".swiper-button-next"},breakpoints:{0:{spaceBetween:20},768:{spaceBetween:40}}})}const F=document.querySelector(".social-entrepreneurship__slider .swiper"),W=[...document.querySelectorAll(".social-entrepreneurship__slide")];if(F){setTimeout(()=>{let e=H(W);W.forEach(t=>{t.style.minHeight=e+"px"})},100);new Swiper(F,{slidesPerView:"auto",spaceBetween:10,speed:800,watchOverflow:!0,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},pagination:{el:".swiper-pagination",clickable:!0}})}const Y=document.querySelector(".webinars__slider .swiper");if(Y){new Swiper(Y,{slidesPerView:2,spaceBetween:20,speed:800,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:1},1024:{slidesPerView:2}}})}const z=document.querySelector(".other-categories__slider .swiper");if(z){new Swiper(z,{slidesPerView:3,spaceBetween:20,speed:800,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}}})}const U=document.querySelector(".research__slider .swiper");if(U){new Swiper(U,{slidesPerView:1,spaceBetween:20,speed:800,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}})}const G=document.querySelector(".nominations__slider .swiper"),J=[...document.querySelectorAll(".nominations__slide")];if(G){window.innerWidth>=768&&setTimeout(()=>{let e=H(J);J.forEach(t=>{t.style.minHeight=e+"px"})},100);new Swiper(G,{slidesPerView:1,spaceBetween:20,speed:800,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}})}const K=document.querySelectorAll(".news-slider__slider .swiper");K&&K.forEach(e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:20,speed:800,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,observer:!0,observeParents:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}})});const Q=document.querySelector(".social-ideas__slider .swiper");if(Q){new Swiper(Q,{slidesPerView:1,spaceBetween:20,speed:800,loop:!0,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination"},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},breakpoints:{1024:{pagination:{type:"fraction"}}}})}const X=document.querySelector(".ideas-rating__slider .swiper"),Z=[...document.querySelectorAll(".ideas-rating__item")];if(X&&window.innerWidth<1024){setTimeout(()=>{let e=H(Z);Z.forEach(t=>{t.style.minHeight=e+"px"})},100);new Swiper(X,{slidesPerView:1,spaceBetween:20,speed:800,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2}}})}}));